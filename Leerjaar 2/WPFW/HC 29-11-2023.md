# WPFW HC 24
## Testen in het algemeen
Er zijn veel manieren om te testen.

### Unit testen
Kunnen heel makkelijk worden gemaakt en zijn dus best goedkoop. Je test de unit (een geïsoleerd stukje code).

### Integration testen
Je test hoe de units samenwerken.

### End to end testen
Kosten veel werk en tijd, dus duur. Je test de volledige applicatie.

## e2e testen
Je test de combinatie van front-end en back-end. Het volledige traject dus.

## Cypress
JavaScript library voor front-end testen. Je kan er ook de back-end mee testen. Je kan ook er mee mocken.

### Eenvoudige configuratie
Het is makkelijk om een testomgeving te configureren.

### Realistische browseromgeving
Omdat Cypress gebruik maakt van een echte browser kan je precies meekijken met wat het doet, en kan je ook zien of er iets mis gaat.

### Moderne webtechnologieën
Ondersteuning voor onderandere TypeScript, JavaScript en meer.

## Cypress en Chai
Chai is een JavaScript library die gebruikt wordt voor het schrijven van asserts in testcases met als doel om dit leesbaar en begrijpelijk te maken.

Chai ondersteund BDD (Behavior Driven Development) en TDD (Test Driven Development).

### Voorbeeld 1
```js
cy.get('p').should('have.text', 'Count: 1');
```

### Voorbeeld 2
```js
describe('test suite naam', () => {
    it('test Naam', () => {
        // Testcode
    })
})
```

### Een paar functies en methoden

TODO: verfijnen.

```js
cy.get('.class #id <selector>');    // Verkrijg een HTML element op basis can selector, class, id, of combinatie.
cy.intercept('/api/**');    // Spy on webrequests
cy.get('.class #id <selector>').should('contain', 'pizza'); // Checkt of een bepaald object 'pizza' bevat.
cy.contains('type').click();   // Simuleert een muisklik.
cy.get('.class #id <selector>').type('iets');  // Simuleert typen met het toetsenbord.
beforeEach(() => {});   // ??
cy.visit('http://localhost:3000');  // Navigeert naar een bepaalde pagina.
```

## Demo
Niet echt iets over te noteren. Er wordt wel iets van `useEffect` gezegd, maar dat heb ik ook tijdens een ander hoorcollege genoteerd.

Ook `isProcessing` wordt gebruikt om de status van een lopende verwerkingsactie bij te houden.

`incrementCount` verhoogt een teller. Ook is `async` en `await` vermeld op de slides (niet door de docent). Die heb ik ergens anders al een keer genoteerd.

Voor het gebruik van `Cypress` moet je de extensie `.cy.js` gebruiken, dus een dubbele extensie.

```js
describe('Counter App Tests', () => {
    beforeEach(() => {
        cy.visit('http://localhost:3000');
    });

    it('Moet de initiele telling tonen als 1', () => {
        cy.get('p').should('have.text', 'Count: 1');
    });

    it('Moet de telling verhogen wanneer de knop wordt ingedrukt', () => {
        cy.wait(3000);  // Wacht 3000 (waarschijnlijk milliseconden)
        cy.get('input').clear().type('1');
        cy.contains('Ophogen met 1').click();
        cy.get('p').should('have.text', 'Count: 2');
    });
});
```

## Stubbing

## Interception
